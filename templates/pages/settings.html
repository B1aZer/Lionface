{% extends 'pages/base.html' %}
{% load i18n static media format_results %}

{% block js %}
<script>
LionFace.User.page_slug = '{{ page.username }}';
LionFace.User.page_id = '{{ page.id }}';
{% if request.user|check_pages_basics:page %}
LionFace.User.options['pages_basics__'+{{ page.id }}] = true;
{% else %}
LionFace.User.options['pages_basics__'+{{ page.id }}] = false;
{% endif %}
{% if request.user|check_pages_delete:page %}
LionFace.User.options['pages_delete__'+{{ page.id }}] = true;
{% else %}
LionFace.User.options['pages_delete__'+{{ page.id }}] = false;
{% endif %}
{% if request.user|check_pages_admins:page %}
LionFace.User.options['pages_admins__'+{{ page.id }}] = true;
{% else %}
LionFace.User.options['pages_admins__'+{{ page.id }}] = false;
{% endif %}
{% if request.user|check_pages_photos:page %}
LionFace.User.options['pages_photos__'+{{ page.id }}] = true;
{% else %}
LionFace.User.options['pages_photos__'+{{ page.id }}] = false;
{% endif %}
{% if request.user|check_pages_updates:page %}
LionFace.User.options['pages_updates__'+{{ page.id }}] = true;
{% else %}
LionFace.User.options['pages_updates__'+{{ page.id }}] = false;
{% endif %}
</script>
{% endblock %} 

<div class="left_col">
    {% block left_col %}
    <div class="settings_nav">
		<div class="filter_header">Page Settings<br /><span style="color: #AAA; font-size: 8pt;">You must be an admin.</span></div>
        <ul>
            {% if request.user|check_pages_basics:page %}
            <li id="basics_settings" {% if active == 'basics' %} class="active" {% endif %}>Basics</li>
            {% endif %}
            {% if request.user|check_pages_admins:page %}
            <li id="admins_settings" {% if active == 'admins' %} class="active" {% endif %}>Admins</li>
            {% endif %}
        </ul>
    </div>
    {% endblock %}
</div>

<div class="right_col">
    {% block right_col %}

    <div id="basics_header">
        <span style="font-size: 18px;">Basics</span></strong>
</div>

<div id="privacy_header">
    <span style="font-size: 18px;">Admins</span></strong>
</div>

<form action="" method="post">{% csrf_token %}
<div align="center">
    <table id="basics">
        <tr>
            <td width="150" align="right">&nbsp;</td>
            <td width="405">&nbsp;</td>
        </tr>
        <tr>
            <td align="right">Page Name</td>
            <td>
                {{ form.name.errors }}
                {{ form.name }}
            </td>
        </tr>
        <tr>
            <td align="right">External URL<br></td>
            <td>        
                {{ form.url.errors }}
                {{ form.url }}
            </td>
        </tr>
        <tr>
            <td align="right">Page Username<br></td>
            <td class="username">        
                {{ form.username }}
            </td>
        </tr>
        <tr>
            <td align="right">Page Category</td>
            <td class="category">        
                {{ form.category.errors }}
                {{ form.category }}
            </td>    
        </tr>
        <tr>
            <td align="right" valign="top">About<br />{{ page.name }}<br /><br /><span style="color: #AAA; font-size: 8pt;">225 character max<br />including spaces</span></td>
            <td class="content">        
                {{ form.content.errors }}
                {{ form.content }}
            </td>    
        </tr>
        <tr>
            <td align="right">&nbsp;</td>
            <td>&nbsp;</td>
        </tr>
    </table>


    <td>&nbsp;</td>
</tr>
   </table>

   <table id="privacy">
        <tr>
            <td colspan="2" align="left" style="padding: 4px 20px; border-bottom: 1px solid #CCC;"><span style="margin-right: 10px;">Add an Admin</span>
                <input id="id_admins" type="text" name="admins" value="" maxlength="200">
                <a id="add_admin" href="{% url pages.views.settings_admins slug=page.username %}" style="display:none; position: relative; top: 0px; left: 5px;" class="profile_btn">+ Add</a>
            </td>
        </tr>
        <tr class="admins_list">
            {% include 'pages/settings_admins.html' %}
        </tr>
        <tr>
            <td align="left" colspan="2">
				<span style="font-weight: bold;">Updates:</span> These administrators may post Updates to the Page. Page Updates will be seen in the News Feed of users who have loved your Page.<br /><br />
				<span style="font-weight: bold;">Photos:</span> These administrators may change the Page's profile image, as well as the Page's cover photo.<br /><br />
				<span style="font-weight: bold;">Basics:</span> These administrators may edit the basic information of the Page, such as the Page name, external URL, category, and Page bio.<br /><br />
				<span style="font-weight: bold;">Calendar:</span> These administrators may post and edit events on the Calendar. They may choose to automatically post Updates 24 hours before an event. Additionally, Calendar administrators can initiate Inter-Page or In-House discussions.<br /><br />
				<span style="font-weight: bold;">Community:</span> These administrators may add other Pages as friends, accept Page friend requests, approve Comunnity requests (employees, interns, and, if applicable, volunteers) from users, and add/edit text below the header of each category. Additionally, Calendar administrators can initiate Inter-Page or In-House discussions.<br /><br />
				<span style="font-weight: bold;">Edit Admins:</span> These administrators may add, remove, or edit Admins of this Page, with the exception of the Admin who created the Page.<br /><br />
				The creator of the Page as the option to delete the Page, however there is a 7 day waiting period (in case you wish to cancel the deletion of the Page).
			</td>

        </tr>
    </table>


    <td>&nbsp;</td>
</tr>               

</div>

<div class="save_container">
<input type="hidden" name="form_name" id="form_name">
{% if request.user|check_pages_basics:page %}
<input id="submit_button" type="submit" class="blue_btn" style="color: #FFF;" name="save" value="Save" /> 
{% endif %}
</form>
{% if request.user|check_pages_delete:page %} 
<a href="#" id="delete_page" style="font-size: 11px; color: #CCC; margin-left: 10px;">Delete Page</a>
{% endif %} 
<form id="delete_page_form" action="{% url pages.views.delete_page slug=page.username %}" method="post" style="display:none">{% csrf_token %}
<input id="submit_delete" type="submit" class="blue_btn" name="delete_page" value="Delete">
<label for="id_confirm_pass">Confirm Password:</label>
<input type="password" name="confirm_password" id="id_confirm_pass">
<span class="confirm_errors"></span>
</form>
</div>


{% endblock %}
</div>

{% block additional_js %}
    {% include_media 'pages.js' %}
    {% include_media 'pages.settings.js' %}
{% endblock %} 
